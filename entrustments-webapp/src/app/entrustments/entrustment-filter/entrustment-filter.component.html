


<select *ngIf="shouldShowFaculties()" [disabled]="shouldLockFaculties()" class="form-control" [id]="facultySelectId">
  <option selected disabled hidden>Wydział</option>
</select>
<select *ngIf="shouldShowFaculties()" [disabled]="shouldLockFaculties()" class="form-control top-buffer">
  <option selected disabled hidden>Kierunek</option>
</select>
<select class="form-control" [class.top-buffer]="shouldShowFaculties()" [(ngModel)]="pickedAcademicYear">
  <option disabled hidden [selected]="!pickedAcademicYear" [value]="undefined">Rok akademicki</option>
  <option *ngFor="let x of academicYears" [value]="x.name" [selected]="pickedAcademicYear == x.name">{{x.name}}</option>
</select>
<select class="form-control top-buffer" [(ngModel)]="pickedSemester">
  <option disabled hidden [selected]="!pickedSemester" [value]="undefined">Semestr</option>
  <option *ngFor="let x of semesters" [value]="x.number" [selected]="pickedSemester == x.number">{{x.number}}</option>
</select>
<select class="form-control top-buffer">
  <option selected disabled hidden>Stopień</option>
</select>
<select class="form-control top-buffer">
  <option selected disabled hidden>Specjalność</option>
</select>
<select class="form-control top-buffer">
  <option selected disabled hidden>Kurs</option>
</select>
<label class="text-center top-buffer d-block mx-auto">LUB</label>
<input type="text" class="form-control top-buffer" placeholder="Wpisz kod lub nazwę kursu"
       [(ngModel)]="modelCourse" [ngbTypeahead]="searchCourses" [resultTemplate]="rtCourse"
       (focus)="focusCoursesTextBox$.next($event.target.value)"
       (click)="clickCoursesTextBox$.next($event.target.value)"
       [inputFormatter]="formatterCourse"
       #coursesTextBox="ngbTypeahead"/>
<!--<pre>Model: {{ modelCourse | json }}</pre>-->
<input [hidden]="isCourseInstructor" type="text" class="form-control top-buffer" placeholder="Wpisz prowadzącego"
       [(ngModel)]="modelCourseInstructor" [ngbTypeahead]="searchCourseInstructors" [resultTemplate]="rtCourseInstructor"
       (focus)="focusCourseInstructorsTextBox$.next($event.target.value)"
       (click)="clickCourseInstructorsTextBox$.next($event.target.value)"
       [inputFormatter]="formatterCourseInstructor"
       #courseInstructorsTextBox="ngbTypeahead"/>
<!--<pre>Model: {{ modelCourseInstructor | json }}</pre>-->
<select *ngIf="isCourseInstructor" class="form-control top-buffer">
  <option selected disabled hidden>Status</option>
</select>
<div class="row top-buffer">
  <div class="col">
    <button *ngIf="!isCourseInstructor" class="btn btn-secondary" style="width: 100%" (click)="onSearchClicked()">Szukaj</button>
    <button *ngIf="isCourseInstructor" class="btn btn-secondary" style="width: 100%" (click)="onSearchClicked()">Filtruj</button>
  </div>
  <div class="col">
    <button class="btn btn-secondary" style="width: 100%; height: 100%; font-size: 14px" (click)="onClearFiltersClicked()">Czyść filtry</button>
  </div>
</div>

<ng-template ngbPanelContent #rtCourse let-r="result" let-t="term">
  <ngb-highlight [result]="r.code + ' - ' + r.name " [term]="t"></ngb-highlight>
</ng-template>
<ng-template ngbPanelContent #rtCourseInstructor let-r="result" let-t="term">
    <ngb-highlight class="col" [result]="r.name" [term]="t"></ngb-highlight>
    <span class="col flex-column justify-content-end"><span [ngStyle]="{ color: r.hours > r.pensum ? 'red' : 'green' }"> {{r.hours}}</span> / {{r.pensum}}</span>
</ng-template>
